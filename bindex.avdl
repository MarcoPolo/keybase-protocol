@namespace("keybase.1")

protocol bIndex {
	import idl "backend_common.avdl";

	void bIndexSession(string sid);
	bytes getBIndexSKey(BlockIdCombo bid);
	void putBIndex(BlockIdCombo bid, BlockInfo info);

	void decBIndexReference(BlockIdCombo bid, UID chargedTo);
	void incBIndexReference(BlockIdCombo bid, UID chargedTo);

	int getBIndexReference(BlockIdCombo bid); 
	// future RPC from bserver to bindex 
	// void notifySize(array<BlockIdCombo> bids); 

}
